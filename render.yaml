services:
  - type: web
    name: siac-web
    env: docker
    plan: free
    dockerfilePath: ./Dockerfile
    autoDeploy: true
    healthCheckPath: /
    envVars:
      - key: APP_ENV
        value: production
      - key: APP_DEBUG
        value: false
      - key: APP_URL
        value: https://siac-web.onrender.com
      - key: LOG_CHANNEL
        value: stderr
      - key: SESSION_DRIVER
        value: cookie
      - key: CACHE_DRIVER
        value: file
      - key: QUEUE_CONNECTION
        value: sync
      - key: APP_KEY
        generateValue: true  # Remove after first deploy and set manually if desired
      # Database placeholders (uncomment and set)
      # - key: DB_CONNECTION
      #   value: mysql
      # - key: DB_HOST
      #   value: your-host
      # - key: DB_PORT
      #   value: '3306'
      # - key: DB_DATABASE
      #   value: your-db
      # - key: DB_USERNAME
      #   value: your-user
      # - key: DB_PASSWORD
      #   value: your-pass
      # MongoDB alternative
      # - key: MONGODB_URI
      #   value: mongodb+srv://user:pass@cluster/db?retryWrites=true&w=majority

# Optional queue worker service example (disabled by default)
#  - type: worker
#    name: siac-queue
#    env: docker
#    dockerfilePath: ./Dockerfile
#    autoDeploy: false
#    startCommand: php artisan queue:work --sleep=3 --tries=3 --timeout=90
#    envVars:
#      - key: APP_ENV
#        value: production
#      - key: APP_DEBUG
#        value: false
#      - key: APP_URL
#        value: https://siac-web.onrender.com
#      - key: LOG_CHANNEL
#        value: stderr
#      - key: SESSION_DRIVER
#        value: cookie
#      - key: CACHE_DRIVER
#        value: file
#      - key: QUEUE_CONNECTION
#        value: database
#      - key: APP_KEY
#        sync: true
